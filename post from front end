<?php
// enqueue styles
function load_stylesheet()
{
    wp_register_style('bootstrap', get_template_directory_uri() .'/css/bootstrap.min.css',
     array(), false, 'all');
    wp_enqueue_style('bootstrap');

    wp_register_style('style', get_template_directory_uri() .'/style.css',
     array(), false, 'all');
    wp_enqueue_style('style');

    wp_register_style('owl.carousel.min', get_template_directory_uri() .'/owlcarousel/owl.carousel.min.css',
     array(), false, 'all');
    wp_enqueue_style('owl.carousel.min');

    wp_register_style('owl.theme.default', get_template_directory_uri() .'/owlcarousel/owl.theme.default.min.css',
     array(), false, 'all');
    wp_enqueue_style('owl.theme.default');
    
    // fontawesome
     wp_register_style('fontawesome', 'https://pro.fontawesome.com/releases/v5.10.0/css/all.css',
     array(), false, 'all');
    wp_enqueue_style('fontawesome');
     // fontawesome

   // wp_register_style('fontsMontserrat', 'https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400;1,700&display=swap',
   //   array(), false, 'all');
   //  wp_enqueue_style('fontsMontserrat');

   //  wp_register_style('fontsOpenSans', 'https://fonts.googleapis.com/css2?family=Open+Sans:ital@0;1&display=swap',
   //   array(), false, 'all');
   //  wp_enqueue_style('fontsOpenSans');

   //  wp_register_style('kanit', 'https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700;800&display=swap',
   //   array(), false, 'all');
   //  wp_enqueue_style('kanit');
    

}
add_action('wp_enqueue_scripts', 'load_stylesheet');


// include jquery
function include_jquery()
{
    wp_deregister_script('jquery');
    wp_enqueue_script('jquery', get_template_directory_uri(). '/js/jquery.min.js', '', 1, true);
}
add_action('wp_enqueue_scripts', 'include_jquery');


// enqueue scipts
function loadjs()
{
    wp_register_script('customjs', get_template_directory_uri() . '/js/scripts.js', '', 1, true);
    wp_enqueue_script('customjs');

    wp_register_script('owl.carousel.min.js', get_template_directory_uri() . '/owlcarousel/owl.carousel.min.js', '', 1, true);
    wp_enqueue_script('owl.carousel.min.js');
}
add_action('wp_enqueue_scripts', 'loadjs');


//adding custom logo
function themename_custom_logo_setup() {
    $defaults = array(
        'height'               => 100,
        'width'                => 400,
        'flex-height'          => true,
        'flex-width'           => true,
        'header-text'          => array( 'site-title', 'site-description' ),
        'unlink-homepage-logo' => true, 
    );
 
    add_theme_support( 'custom-logo', $defaults );
}
 
add_action( 'after_setup_theme', 'themename_custom_logo_setup' );

// register nav menus
add_theme_support('menus');
add_theme_support('post-thumbnails');
// defining the sizes of tumbnail
add_image_size('smallest', 300, 300, true);
add_image_size('largest', 700, 700, true);


// This theme uses wp_nav_menu() in two locations.
register_nav_menus(

array(

    'header menu'=>__('Header Menu', 'theme'),
    'footer menu' =>__('Footer Menu', 'theme')
)
);






// Our custom post type function


function create_posttype() {
 
    register_post_type( 'testimonials',
    // CPT Options
        array(
            'labels' => array(
                'name' => __( 'Testimonials' ),
                'singular_name' => __( 'Testimonial' )
            ),
            'public' => true,
            'has_archive' => true,
            'rewrite' => array('slug' => 'testimonials'),
            'show_in_rest' => true,
            'supports' => array('page-attributes', 'title', 'editor','thumbnail', 'excerpt' )

 
        )
    );
}
// Hooking up our function to theme setup
add_action( 'init', 'create_posttype' );


// submit post from prontend
if (isset($_POST['title']) ) {

  $title = $_POST['title'];
  $desc = $_POST['desc'];
  $thumb = $_POST['test'];

  $my_post =array(
    'post_type' =>'testimonials',
    'post_title' => $title,
    'post_content' => $desc,
    'post_status' => 'publish',
     
);
  
  wp_insert_post($my_post);

}







// submit post from prontend


add_shortcode('testimonials', 'testimonial_shortcode');

function testimonial_shortcode(){
   ob_start();
   include dirname(__FILE__) . '/inc/testimonial_shortcode.php';    
   $html = ob_get_clean();
   return $html;

}

add_shortcode('solutions', 'solutions_shortcode');

function solutions_shortcode(){
   ob_start();
   include dirname(__FILE__) . '/inc/our-solutions-shortcode.php';    
   $html = ob_get_clean();
   return $html;

}

add_shortcode('partner', 'partner_shortcode');

function partner_shortcode(){
   ob_start();
   include dirname(__FILE__) . '/inc/partner-shortcode.php';    
   $html = ob_get_clean();
   return $html;

}
register_sidebar( array(
'name' => 'Footer 1',
'id' => 'footer-1',
'description' => 'Appears in the footer area',
'before_widget' => '<aside id="%1$s" class="widget %2$s">',
'after_widget' => '</aside>',
'before_title' => '<h3 class="widget-title">',
'after_title' => '</h3>',
) );
register_sidebar( array(
'name' => 'Footer 2',
'id' => 'footer-2',
'description' => 'Appears in the footer area',
'before_widget' => '<aside id="%1$s" class="widget %2$s">',
'after_widget' => '</aside>',
'before_title' => '<h3 class="widget-title">',
'after_title' => '</h3>',
) );
register_sidebar( array(
'name' => 'Footer 3',
'id' => 'footer-3',
'description' => 'Appears in the footer area',
'before_widget' => '<aside id="%1$s" class="widget %2$s">',
'after_widget' => '</aside>',
'before_title' => '<h3 class="widget-title">',
'after_title' => '</h3>',
) );
register_sidebar( array(
'name' => 'Footer 4',
'id' => 'footer-4',
'description' => 'Appears in the footer area',
'before_widget' => '<aside id="%1$s" class="widget %2$s">',
'after_widget' => '</aside>',
'before_title' => '<h3 class="widget-title">',
'after_title' => '</h3>',
) );
register_sidebar( array(
'name' => 'Footer 5',
'id' => 'footer-5',
'description' => 'Appears in the footer area',
'before_widget' => '<aside id="%1$s" class="widget %2$s">',
'after_widget' => '</aside>',
'before_title' => '<h3 class="widget-title footer-number" >',
'after_title' => '</h3>',
) );





